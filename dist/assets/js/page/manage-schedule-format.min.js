var fields,data={};function editRow(){$("body").on("click",".js-edit-row",function(){return fields=$(this).closest(".js-row").find("input, textarea"),button=$(this).closest(".js-row").find("button"),$(this).is(".editing")?($(this).text("修正する"),$(this).removeClass("editing"),fields.prop("disabled",!0),button.prop("disabled",!0),fields.each(function(t,e){var i=$(this).attr("name"),o=$(this).val();data[i]=o}),$.ajax({method:"POST",dataType:"json",data:data}).success(function(t){}).error(function(t,e,i){console.log(t+e+i)}),!1):($(this).text("セーブする"),$(this).addClass("editing"),fields.prop("disabled",!1),void button.prop("disabled",!1))})}function deleteRow(){$("body").on("click",".js-delete-row",function(){return $(this).closest(".js-row").remove(),data.delete=$(this).closest(".js-row").find("input[name=post_id]").val(),$.ajax({method:"POST",dataType:"json",data:data}).success(function(t){}).error(function(t,e,i){console.log(t+e+i)}),!1})}function selectRedirect(){$(".js-select-redirect").on("change",function(){var t=$(this).val();return t&&(window.location=t),!1})}function autoHeightTextarea(){$("textarea").each(function(){this.setAttribute("style","height:"+this.scrollHeight+"px;overflow-y:hidden;")}).on("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"})}$(document).ready(function(){editRow(),deleteRow(),selectRedirect(),autoHeightTextarea()}),jQuery(document).ready(function(){var e=jQuery;0<e(".set_custom_logo").length&&"undefined"!=typeof wp&&wp.media&&wp.media.editor&&e(document).on("click",".set_custom_logo",function(t){t.preventDefault();var i=e(this),o=i.prev();return wp.media.editor.send.attachment=function(t,e){o.val(e.id),i.siblings(".js-img").html('<img src="'+e.url+'" alt="">')},wp.media.editor.open(i),!1})});